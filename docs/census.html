<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 U.S. Census Bureau | Data Wrangling</title>
  <meta name="description" content="A collection of readings on data wrangling." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="9 U.S. Census Bureau | Data Wrangling" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://dcl-wrangle.stanford.edu" />
  
  <meta property="og:description" content="A collection of readings on data wrangling." />
  <meta name="github-repo" content="dcl-docs/wrangle" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 U.S. Census Bureau | Data Wrangling" />
  
  <meta name="twitter:description" content="A collection of readings on data wrangling." />
  

<meta name="author" content="Sara Altman, Bill Behrman, Hadley Wickham" />


<meta name="date" content="2021-09-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="api-basics.html"/>
<link rel="next" href="googlesheets.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Data Wrangling</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#an-evolving-book"><i class="fa fa-check"></i>An evolving book</a></li>
</ul></li>
<li class="part"><span><b>I Manipulation</b></span></li>
<li class="chapter" data-level="1" data-path="manip-basics.html"><a href="manip-basics.html"><i class="fa fa-check"></i><b>1</b> Basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="manip-basics.html"><a href="manip-basics.html#dplyr-basics"><i class="fa fa-check"></i><b>1.1</b> dplyr basics</a></li>
<li class="chapter" data-level="1.2" data-path="manip-basics.html"><a href="manip-basics.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>1.2</b> Filter rows with <code>filter()</code></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="manip-basics.html"><a href="manip-basics.html#comparisons"><i class="fa fa-check"></i><b>1.2.1</b> Comparisons</a></li>
<li class="chapter" data-level="1.2.2" data-path="manip-basics.html"><a href="manip-basics.html#logical-operators"><i class="fa fa-check"></i><b>1.2.2</b> Logical operators</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="manip-basics.html"><a href="manip-basics.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>1.3</b> Add new variables with <code>mutate()</code></a></li>
<li class="chapter" data-level="1.4" data-path="manip-basics.html"><a href="manip-basics.html#grouped-summaries-with-summarize"><i class="fa fa-check"></i><b>1.4</b> Grouped summaries with <code>summarize()</code></a></li>
<li class="chapter" data-level="1.5" data-path="manip-basics.html"><a href="manip-basics.html#combining-multiple-operations-with-the-pipe"><i class="fa fa-check"></i><b>1.5</b> Combining multiple operations with the pipe</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="manip-one-table.html"><a href="manip-one-table.html"><i class="fa fa-check"></i><b>2</b> Other single-table verbs</a>
<ul>
<li class="chapter" data-level="2.1" data-path="manip-one-table.html"><a href="manip-one-table.html#select"><i class="fa fa-check"></i><b>2.1</b> Select</a></li>
<li class="chapter" data-level="2.2" data-path="manip-one-table.html"><a href="manip-one-table.html#rename"><i class="fa fa-check"></i><b>2.2</b> Rename</a></li>
<li class="chapter" data-level="2.3" data-path="manip-one-table.html"><a href="manip-one-table.html#change-column-order"><i class="fa fa-check"></i><b>2.3</b> Change column order</a></li>
<li class="chapter" data-level="2.4" data-path="manip-one-table.html"><a href="manip-one-table.html#transmute"><i class="fa fa-check"></i><b>2.4</b> Transmute</a></li>
<li class="chapter" data-level="2.5" data-path="manip-one-table.html"><a href="manip-one-table.html#arrange"><i class="fa fa-check"></i><b>2.5</b> Arrange</a></li>
<li class="chapter" data-level="2.6" data-path="manip-one-table.html"><a href="manip-one-table.html#distinct"><i class="fa fa-check"></i><b>2.6</b> Distinct</a></li>
<li class="chapter" data-level="2.7" data-path="manip-one-table.html"><a href="manip-one-table.html#slice-rows"><i class="fa fa-check"></i><b>2.7</b> Slice rows</a></li>
<li class="chapter" data-level="2.8" data-path="manip-one-table.html"><a href="manip-one-table.html#sample"><i class="fa fa-check"></i><b>2.8</b> Sample</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="parse-basics.html"><a href="parse-basics.html"><i class="fa fa-check"></i><b>3</b> Parsing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="parse-basics.html"><a href="parse-basics.html#delimited-files"><i class="fa fa-check"></i><b>3.1</b> Delimited files</a></li>
<li class="chapter" data-level="3.2" data-path="parse-basics.html"><a href="parse-basics.html#read_csv"><i class="fa fa-check"></i><b>3.2</b> <code>read_csv()</code></a></li>
</ul></li>
<li class="part"><span><b>II Tidy data</b></span></li>
<li class="chapter" data-level="4" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>4</b> Introduction</a></li>
<li class="chapter" data-level="5" data-path="pivot-basic.html"><a href="pivot-basic.html"><i class="fa fa-check"></i><b>5</b> Basic pivoting</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pivot-basic.html"><a href="pivot-basic.html#longer"><i class="fa fa-check"></i><b>5.1</b> Longer</a></li>
<li class="chapter" data-level="5.2" data-path="pivot-basic.html"><a href="pivot-basic.html#wider"><i class="fa fa-check"></i><b>5.2</b> Wider</a></li>
<li class="chapter" data-level="5.3" data-path="pivot-basic.html"><a href="pivot-basic.html#missing-values"><i class="fa fa-check"></i><b>5.3</b> Missing values</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="pivot-advanced.html"><a href="pivot-advanced.html"><i class="fa fa-check"></i><b>6</b> Advanced pivoting</a>
<ul>
<li class="chapter" data-level="6.1" data-path="pivot-advanced.html"><a href="pivot-advanced.html#longer-1"><i class="fa fa-check"></i><b>6.1</b> Longer</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="pivot-advanced.html"><a href="pivot-advanced.html#types"><i class="fa fa-check"></i><b>6.1.1</b> Types</a></li>
<li class="chapter" data-level="6.1.2" data-path="pivot-advanced.html"><a href="pivot-advanced.html#prefixes"><i class="fa fa-check"></i><b>6.1.2</b> Prefixes</a></li>
<li class="chapter" data-level="6.1.3" data-path="pivot-advanced.html"><a href="pivot-advanced.html#multiple-values"><i class="fa fa-check"></i><b>6.1.3</b> Multiple values</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="pivot-advanced.html"><a href="pivot-advanced.html#wider-1"><i class="fa fa-check"></i><b>6.2</b> Wider</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="pivot-advanced.html"><a href="pivot-advanced.html#prefixes-1"><i class="fa fa-check"></i><b>6.2.1</b> Prefixes</a></li>
<li class="chapter" data-level="6.2.2" data-path="pivot-advanced.html"><a href="pivot-advanced.html#multiple-values-1"><i class="fa fa-check"></i><b>6.2.2</b> Multiple values</a></li>
<li class="chapter" data-level="6.2.3" data-path="pivot-advanced.html"><a href="pivot-advanced.html#id_cols"><i class="fa fa-check"></i><b>6.2.3</b> <code>id_cols</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Working with APIs</b></span></li>
<li class="chapter" data-level="7" data-path="apis.html"><a href="apis.html"><i class="fa fa-check"></i><b>7</b> Introduction</a></li>
<li class="chapter" data-level="8" data-path="api-basics.html"><a href="api-basics.html"><i class="fa fa-check"></i><b>8</b> API basics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="api-basics.html"><a href="api-basics.html#what-is-an-api"><i class="fa fa-check"></i><b>8.1</b> What is an API?</a></li>
<li class="chapter" data-level="8.2" data-path="api-basics.html"><a href="api-basics.html#find-your-api"><i class="fa fa-check"></i><b>8.2</b> Find your API</a></li>
<li class="chapter" data-level="8.3" data-path="api-basics.html"><a href="api-basics.html#craft-your-request"><i class="fa fa-check"></i><b>8.3</b> Craft your request</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="api-basics.html"><a href="api-basics.html#base-request"><i class="fa fa-check"></i><b>8.3.1</b> Base request</a></li>
<li class="chapter" data-level="8.3.2" data-path="api-basics.html"><a href="api-basics.html#parameters"><i class="fa fa-check"></i><b>8.3.2</b> Parameters</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="api-basics.html"><a href="api-basics.html#test-your-request"><i class="fa fa-check"></i><b>8.4</b> Test your request</a></li>
<li class="chapter" data-level="8.5" data-path="api-basics.html"><a href="api-basics.html#read-the-data-into-r"><i class="fa fa-check"></i><b>8.5</b> Read the data into R</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="api-basics.html"><a href="api-basics.html#json-data"><i class="fa fa-check"></i><b>8.5.1</b> JSON data</a></li>
<li class="chapter" data-level="8.5.2" data-path="api-basics.html"><a href="api-basics.html#all-formats"><i class="fa fa-check"></i><b>8.5.2</b> All formats</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="api-basics.html"><a href="api-basics.html#next-steps"><i class="fa fa-check"></i><b>8.6</b> Next steps</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="census.html"><a href="census.html"><i class="fa fa-check"></i><b>9</b> U.S. Census Bureau</a>
<ul>
<li class="chapter" data-level="9.1" data-path="census.html"><a href="census.html#census-bureau-basics"><i class="fa fa-check"></i><b>9.1</b> Census Bureau basics</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="census.html"><a href="census.html#decennial-census"><i class="fa fa-check"></i><b>9.1.1</b> Decennial census</a></li>
<li class="chapter" data-level="9.1.2" data-path="census.html"><a href="census.html#acs"><i class="fa fa-check"></i><b>9.1.2</b> ACS</a></li>
<li class="chapter" data-level="9.1.3" data-path="census.html"><a href="census.html#population-estimates"><i class="fa fa-check"></i><b>9.1.3</b> Population estimates</a></li>
<li class="chapter" data-level="9.1.4" data-path="census.html"><a href="census.html#choosing-data"><i class="fa fa-check"></i><b>9.1.4</b> Choosing data</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="census.html"><a href="census.html#tidycensus"><i class="fa fa-check"></i><b>9.2</b> tidycensus</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="census.html"><a href="census.html#specify-a-dataset"><i class="fa fa-check"></i><b>9.2.1</b> Specify a dataset</a></li>
<li class="chapter" data-level="9.2.2" data-path="census.html"><a href="census.html#find-variables"><i class="fa fa-check"></i><b>9.2.2</b> Find variables</a></li>
<li class="chapter" data-level="9.2.3" data-path="census.html"><a href="census.html#get-data"><i class="fa fa-check"></i><b>9.2.3</b> Get data</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="census.html"><a href="census.html#population-estimates-1"><i class="fa fa-check"></i><b>9.3</b> Population estimates</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="census.html"><a href="census.html#choose-data"><i class="fa fa-check"></i><b>9.3.1</b> Choose data</a></li>
<li class="chapter" data-level="9.3.2" data-path="census.html"><a href="census.html#craft-your-request-1"><i class="fa fa-check"></i><b>9.3.2</b> Craft your request</a></li>
<li class="chapter" data-level="9.3.3" data-path="census.html"><a href="census.html#read-the-data-into-r-1"><i class="fa fa-check"></i><b>9.3.3</b> Read the data into R</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="census.html"><a href="census.html#to-learn-more"><i class="fa fa-check"></i><b>9.4</b> To learn more</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="googlesheets.html"><a href="googlesheets.html"><i class="fa fa-check"></i><b>10</b> Google Sheets</a>
<ul>
<li class="chapter" data-level="10.1" data-path="googlesheets.html"><a href="googlesheets.html#reading"><i class="fa fa-check"></i><b>10.1</b> Reading</a></li>
<li class="chapter" data-level="10.2" data-path="googlesheets.html"><a href="googlesheets.html#writing"><i class="fa fa-check"></i><b>10.2</b> Writing</a></li>
<li class="chapter" data-level="10.3" data-path="googlesheets.html"><a href="googlesheets.html#finding-sheets"><i class="fa fa-check"></i><b>10.3</b> Finding sheets</a></li>
<li class="chapter" data-level="10.4" data-path="googlesheets.html"><a href="googlesheets.html#authentication"><i class="fa fa-check"></i><b>10.4</b> Authentication</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="googlesheets.html"><a href="googlesheets.html#interactive-session"><i class="fa fa-check"></i><b>10.4.1</b> Interactive session</a></li>
<li class="chapter" data-level="10.4.2" data-path="googlesheets.html"><a href="googlesheets.html#non-interactive-session"><i class="fa fa-check"></i><b>10.4.2</b> Non-interactive session</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Web scraping</b></span></li>
<li class="chapter" data-level="11" data-path="rvest.html"><a href="rvest.html"><i class="fa fa-check"></i><b>11</b> rvest</a>
<ul>
<li class="chapter" data-level="11.1" data-path="rvest.html"><a href="rvest.html#web-page-basics"><i class="fa fa-check"></i><b>11.1</b> Web page basics</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="rvest.html"><a href="rvest.html#html"><i class="fa fa-check"></i><b>11.1.1</b> HTML</a></li>
<li class="chapter" data-level="11.1.2" data-path="rvest.html"><a href="rvest.html#css"><i class="fa fa-check"></i><b>11.1.2</b> CSS</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="rvest.html"><a href="rvest.html#scrape-data-with-rvest"><i class="fa fa-check"></i><b>11.2</b> Scrape data with rvest</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="rvest.html"><a href="rvest.html#read-html"><i class="fa fa-check"></i><b>11.2.1</b> Read HTML</a></li>
<li class="chapter" data-level="11.2.2" data-path="rvest.html"><a href="rvest.html#find-the-css-selector"><i class="fa fa-check"></i><b>11.2.2</b> Find the CSS selector</a></li>
<li class="chapter" data-level="11.2.3" data-path="rvest.html"><a href="rvest.html#extract-the-table"><i class="fa fa-check"></i><b>11.2.3</b> Extract the table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Wrangling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="u.s.-census-bureau" class="section level1" number="9">
<h1><span class="header-section-number">9</span> U.S. Census Bureau</h1>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="census.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb85-2"><a href="census.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span></code></pre></div>
<div id="census-bureau-basics" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> Census Bureau basics</h2>
<p>The U.S. Census Bureau is a fantastic resource for data related to the U.S. population. As you saw in the <a href="http://dcl-wrangle.stanford.edu/api-basics.html">API Basics</a> chapter, the Census Bureau makes a wide variety of APIs available. In this chapter, we’ll focus on three: the decennial census, the American Community Survey, and the population estimates.</p>
<p>As we mentioned previously, many R packages wrap commonly used APIs, making it easier for you to obtain data. In this chapter, we’ll introduce one such package: <a href="https://walkerke.github.io/tidycensus/">tidycensus</a>. We’ll show you how to use tidycensus to obtain data from the decennial census and American Community Survey. Then, we’ll go into more detail about working directly with the Census Bureau APIs.</p>
<p>First, we’ll give a bit of background about three U.S. Census data sources: the decennial census, the American Community Survey, and the population estimates.</p>
<div id="decennial-census" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Decennial census</h3>
<p>When most people think of the U.S. Census, they’re thinking about the decennial census. The Census Bureau conducts the decennial census every ten years (starting in 1790), with the goal of determining the number of people living in the United States. Because many features of the U.S. government, including the number of representatives awarded to each state, depend on accurate population counts, the decennial census is required by the Constitution.</p>
<p>For the decennial census, the Census Bureau tries to survey every household in the U.S. in an attempt to count every U.S. resident. The population estimates that come from the decennial census are therefore the most definitive that you can find. However, decennial census data come out only every ten years, so can be out-of-date. The decennial census survey also only asks a few questions, primarily about household size, race, ethnicity.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> The American Community Survey provides more detailed and up-to-date data.</p>
</div>
<div id="acs" class="section level3" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> ACS</h3>
<p>Between 1790 and 2000, decennial censuses included both a short form and a long form. Every household filled out the short form, but a sample also filled out the long form, which included additional questions. After 2000, the Census Bureau turned the long form into the American Community Survey (ACS), and began administering the ACS every year.</p>
<p>The ACS, unlike the decennial census, is a sample. Every year, the ACS surveys a representative sample consisting of 3.5 million households. The Census Bureau then uses this sample to provide estimates for the entire U.S. population.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>The ACS calculates these estimates over two time periods: 1 year and 5 years. The 1-year estimates are the most current, but have larger margins of error due to their smaller sample size. Most of the time, you’ll use the 5-year estimates. Their larger sample sizes gives them greater accuracy, particularly for smaller geographic units.</p>
</div>
<div id="population-estimates" class="section level3" number="9.1.3">
<h3><span class="header-section-number">9.1.3</span> Population estimates</h3>
<p>The third data source we’ll discuss comes from the Census Bureau’s <a href="https://www.census.gov/programs-surveys/popest.html">Population Estimates Program (PEP)</a>. The decennial census publishes the definitive population of the United States every ten years. However, if you want to know the population of a U.S. geographic area between decennial census years, you’ll need to use the <a href="https://www.census.gov/data/developers/data-sets/popest-popproj/popest.html">Population Estimates APIs</a>.</p>
<p>The ACS also includes population estimates, but the estimation techniques used for the Population Estimates Program are more accurate.</p>
</div>
<div id="choosing-data" class="section level3" number="9.1.4">
<h3><span class="header-section-number">9.1.4</span> Choosing data</h3>
<p>The first step to working with U.S. Census data is to decide which data source to use. Here’s a quick guide:</p>
<p><strong>ACS</strong></p>
<p>Most of the time, you’ll want the ACS. The ACS includes many different variables on social, economic, housing, and demographic aspects.</p>
<p>You’ll typically want the 5-year ACS, unless you’re looking at a large or rapidly changing geographic area or need yearly data.</p>
<p><strong>Decennial census</strong></p>
<p>Use the decennial census if you want definitive population data, don’t need that many variables, and don’t mind that the data is only available every 10 years.</p>
<p><strong>Population estimates</strong></p>
<p>Use data from the Population Estimates Program if you want accurate population data for a non-decennial census year (i.e., a year not divisible by 10).</p>
</div>
</div>
<div id="tidycensus" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> tidycensus</h2>
<p>The <a href="https://walkerke.github.io/tidycensus/">tidycensus</a> package wraps several U.S. Census Bureau APIs, allowing you to access decennial census and ACS data through R functions.</p>
<p>Before you use tidycensus for the first time, you’ll need to obtain a Census Bureau API key. You can request one <a href="https://api.census.gov/data/key_signup.html">here</a>. You’ll receive an email with your key. Copy your key to the clipboard, then navigate back to RStudio. Run the following line to open your .Renviron file:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="census.html#cb86-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">edit_r_environ</span>()</span></code></pre></div>
<p>Then, add the following line, replacing <code>YOUR_API_KEY</code> with the key sent to you by the Census Bureau.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="census.html#cb87-1" aria-hidden="true" tabindex="-1"></a>CENSUS_API_KEY<span class="ot">=</span>YOUR_API_KEY</span></code></pre></div>
<p>Save and close the file, and then restart R (<em>Ctrl/Cmd</em> + <em>Shift</em> + <em>F10</em>) for the changes to take effect.</p>
<p>From now on, you won’t need to worry about a key. Your key will stay in your .Renviron across R sessions.</p>
<div id="specify-a-dataset" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Specify a dataset</h3>
<p>We’ll show you how to use the tidycensus package to access two Census APIs: the decennial census and the ACS. Before you start using tidycensus, you’ll need to decide which dataset and year to use.</p>
<p><strong>Dataset</strong></p>
<p>See our discussion in <a href="http://dcl-wrangle.stanford.edu/census.html#choosing-data">Choosing data</a> for the trade-off between the decennial census, ACS, and the different ACS estimates.</p>
<p>For many tidycensus functions, you specify the different surveys in the following way:</p>
<ul>
<li><code>"acs5"</code>: 5-year ACS</li>
<li><code>"acs1"</code>: 1-year ACS</li>
<li><code>"sf1"</code>: Decennial census</li>
</ul>
<p><em>sf</em> stands for <em>Summary File</em>. Summary File 1 (<code>"sf1"</code>) corresponds to the short form described earlier, while Summary File 3 (<code>"sf3"</code>) corresponds to the long form. As explained earlier, the ACS took the place of the long form in 2001, so <code>"sf3"</code> is only available for censuses from 2000 or earlier.</p>
<p><strong>Year</strong></p>
<p>You’ll also need to decide on a year. For the decennial censuses, <code>year</code> will just be the year of the decennial census. Remember that the decennial census occurs in years ending in 0. The tidycensus package can access the 1990, 2000, and 2010 decennial censuses.</p>
<p>For ACS data, the <code>year</code> argument of tidycensus functions refers to the end-year of the sample period. For example, if you want to use a 5-year ACS that ended in 2019, set <code>year = 2019</code>. As of July 2021, tidycensus supports 5-year ACS end-years 2009 through 2019, and 1-year ACS end-years 2005 through 2019.</p>
</div>
<div id="find-variables" class="section level3" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Find variables</h3>
<p>Data from both the ACS and decennial census capture many variables. The 2010 decennial census includes 8,959, while the 2019 5-year ACS includes 27,040!</p>
<p>A code, like <code>H001001</code> or <code>P011014</code>, identifies each of these variables. To use tidycensus, you’ll need to determine the codes of your variables of interest. We’ll use the function <code>tidycensus::load_variables()</code> to find ACS or decennial census variables and their accompanying codes.</p>
<p><code>load_variables()</code> returns a tibble of all variable codes from a given dataset, alongside brief descriptions. We’ll load the variables from the 2019 5-year ACS as an example.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="census.html#cb88-1" aria-hidden="true" tabindex="-1"></a>all_vars_acs5 <span class="ot">&lt;-</span> </span>
<span id="cb88-2"><a href="census.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load_variables</span>(<span class="at">year =</span> <span class="dv">2019</span>, <span class="at">dataset =</span> <span class="st">&quot;acs5&quot;</span>)</span>
<span id="cb88-3"><a href="census.html#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="census.html#cb88-4" aria-hidden="true" tabindex="-1"></a>all_vars_acs5</span>
<span id="cb88-5"><a href="census.html#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 27,040 × 3</span></span>
<span id="cb88-6"><a href="census.html#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name       label                                   concept   </span></span>
<span id="cb88-7"><a href="census.html#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;                                   &lt;chr&gt;     </span></span>
<span id="cb88-8"><a href="census.html#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 B01001_001 Estimate!!Total:                        SEX BY AGE</span></span>
<span id="cb88-9"><a href="census.html#cb88-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 B01001_002 Estimate!!Total:!!Male:                 SEX BY AGE</span></span>
<span id="cb88-10"><a href="census.html#cb88-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 B01001_003 Estimate!!Total:!!Male:!!Under 5 years  SEX BY AGE</span></span>
<span id="cb88-11"><a href="census.html#cb88-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 B01001_004 Estimate!!Total:!!Male:!!5 to 9 years   SEX BY AGE</span></span>
<span id="cb88-12"><a href="census.html#cb88-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 B01001_005 Estimate!!Total:!!Male:!!10 to 14 years SEX BY AGE</span></span>
<span id="cb88-13"><a href="census.html#cb88-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 B01001_006 Estimate!!Total:!!Male:!!15 to 17 years SEX BY AGE</span></span>
<span id="cb88-14"><a href="census.html#cb88-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 27,034 more rows</span></span></code></pre></div>
<p><code>load_variables()</code> returns a tibble with the three variables:</p>
<ul>
<li><code>name</code>: The variable code.</li>
<li><code>label</code>: A description of the variable.</li>
<li><code>concept</code>: A broader categorization.</li>
</ul>
<p>Let’s take a closer look at just one concept: sex by age.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="census.html#cb89-1" aria-hidden="true" tabindex="-1"></a>all_vars_acs5 <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="census.html#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(concept <span class="sc">==</span> <span class="st">&quot;SEX BY AGE&quot;</span>)</span>
<span id="cb89-3"><a href="census.html#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 49 × 3</span></span>
<span id="cb89-4"><a href="census.html#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name       label                                   concept   </span></span>
<span id="cb89-5"><a href="census.html#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;                                   &lt;chr&gt;     </span></span>
<span id="cb89-6"><a href="census.html#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 B01001_001 Estimate!!Total:                        SEX BY AGE</span></span>
<span id="cb89-7"><a href="census.html#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 B01001_002 Estimate!!Total:!!Male:                 SEX BY AGE</span></span>
<span id="cb89-8"><a href="census.html#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 B01001_003 Estimate!!Total:!!Male:!!Under 5 years  SEX BY AGE</span></span>
<span id="cb89-9"><a href="census.html#cb89-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 B01001_004 Estimate!!Total:!!Male:!!5 to 9 years   SEX BY AGE</span></span>
<span id="cb89-10"><a href="census.html#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 B01001_005 Estimate!!Total:!!Male:!!10 to 14 years SEX BY AGE</span></span>
<span id="cb89-11"><a href="census.html#cb89-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 B01001_006 Estimate!!Total:!!Male:!!15 to 17 years SEX BY AGE</span></span>
<span id="cb89-12"><a href="census.html#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 43 more rows</span></span></code></pre></div>
<p>49 variables belong to the “SEX BY AGE” concept. Each row refers to a variable under that concept.</p>
<p>This way of thinking about variables can be a bit confusing at first. The <code>Estimate!!Total</code> variable captures the number of people for whom sex by age data is available. <code>Estimate!!Total!!Male</code> captures the total number of males, while <code>Estimate!!Total!!Male!!Under 5 years</code> captures the total number of males under 5 years old.</p>
<p>This is a bit more intuitive for concepts like <code>"SEX BY AGE (ASIAN ALONE)"</code>.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="census.html#cb90-1" aria-hidden="true" tabindex="-1"></a>all_vars_acs5 <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="census.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(concept <span class="sc">==</span> <span class="st">&quot;SEX BY AGE (ASIAN ALONE)&quot;</span>)</span>
<span id="cb90-3"><a href="census.html#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 31 × 3</span></span>
<span id="cb90-4"><a href="census.html#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name        label                                   concept                 </span></span>
<span id="cb90-5"><a href="census.html#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;                                   &lt;chr&gt;                   </span></span>
<span id="cb90-6"><a href="census.html#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 B01001D_001 Estimate!!Total:                        SEX BY AGE (ASIAN ALONE)</span></span>
<span id="cb90-7"><a href="census.html#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 B01001D_002 Estimate!!Total:!!Male:                 SEX BY AGE (ASIAN ALONE)</span></span>
<span id="cb90-8"><a href="census.html#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 B01001D_003 Estimate!!Total:!!Male:!!Under 5 years  SEX BY AGE (ASIAN ALONE)</span></span>
<span id="cb90-9"><a href="census.html#cb90-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 B01001D_004 Estimate!!Total:!!Male:!!5 to 9 years   SEX BY AGE (ASIAN ALONE)</span></span>
<span id="cb90-10"><a href="census.html#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 B01001D_005 Estimate!!Total:!!Male:!!10 to 14 years SEX BY AGE (ASIAN ALONE)</span></span>
<span id="cb90-11"><a href="census.html#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 B01001D_006 Estimate!!Total:!!Male:!!15 to 17 years SEX BY AGE (ASIAN ALONE)</span></span>
<span id="cb90-12"><a href="census.html#cb90-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 25 more rows</span></span></code></pre></div>
<p>Here, <code>Estimate!!Total</code> represents the total number of Asian U.S. residents for whom sex/age data is relevant.</p>
<p><img src="images/census/acs-variables.png" width="2759" height="50%" style="display: block; margin: auto;" /></p>
<p>Most concepts have a <code>Estimate!!Total</code> variable, or something similar. If you want to calculate a proportion, such as the proportion of males, use the relevant <code>Estimate!!Total</code> as the denominator.</p>
<p>To find the variables you want, pipe the result of <code>load_variables()</code> into <code>view()</code>.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="census.html#cb91-1" aria-hidden="true" tabindex="-1"></a>all_vars_acs5 <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="census.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span></code></pre></div>
<p>You can use the search bar to search for variables with a given a keyword (e.g., “income”). You can also click on the <em>Filter</em> button to get a search bar for each variable. Once you’ve found the variables you want, copy their codes (the <code>name</code> variable), and store them in a named vector.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="census.html#cb92-1" aria-hidden="true" tabindex="-1"></a>vars_acs5 <span class="ot">&lt;-</span></span>
<span id="cb92-2"><a href="census.html#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb92-3"><a href="census.html#cb92-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_income =</span> <span class="st">&quot;B06011_001&quot;</span>,</span>
<span id="cb92-4"><a href="census.html#cb92-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_rent =</span> <span class="st">&quot;B25064_001&quot;</span></span>
<span id="cb92-5"><a href="census.html#cb92-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>If we wanted to get variables from, say the 2010 decennial census, we’d use</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="census.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load_variables</span>(<span class="at">year =</span> <span class="dv">2010</span>, <span class="at">dataset =</span> <span class="st">&quot;sf1&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-2"><a href="census.html#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span></code></pre></div>
<p>The <a href="https://www.census.gov/programs-surveys/acs/technical-documentation/code-lists.html">documentation</a> for the ACS is helpful if you need additional information about ACS variables.</p>
</div>
<div id="get-data" class="section level3" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> Get data</h3>
<p>tidycensus provides the functions <code>get_acs()</code> and <code>get_decennial()</code> to get Census Bureau ACS and decennial data. At minimum, you should supply these functions with three variables:</p>
<ul>
<li><code>geography</code></li>
<li><code>variables</code></li>
<li><code>year</code></li>
</ul>
<p><code>geography</code> controls the geographic level of the data returned. The tidycensus website includes a helpful <a href="https://walkerke.github.io/tidycensus/articles/basic-usage.html#geography-in-tidycensus">table of all available geographies</a>. Common values are “state” and “county.”</p>
<p>Supply <code>variables</code> with a vector of variable codes. Earlier, we stored the codes of some variables in the vector <code>vars_acs5</code>.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="census.html#cb94-1" aria-hidden="true" tabindex="-1"></a>vars_acs5</span>
<span id="cb94-2"><a href="census.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; median_income   median_rent </span></span>
<span id="cb94-3"><a href="census.html#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  &quot;B06011_001&quot;  &quot;B25064_001&quot;</span></span></code></pre></div>
<p>For <code>get_acs()</code>, <code>year</code> indicates the <em>end-year</em> for the ACS estimates. If you want ACS estimates from 2015-2019, set <code>year = 2019</code>. By default, <code>get_acs()</code> uses the 5-year estimates. You can use other estimates by specifying <code>survey</code>.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="census.html#cb95-1" aria-hidden="true" tabindex="-1"></a>df_acs <span class="ot">&lt;-</span></span>
<span id="cb95-2"><a href="census.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_acs</span>(</span>
<span id="cb95-3"><a href="census.html#cb95-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">geography =</span> <span class="st">&quot;state&quot;</span>, </span>
<span id="cb95-4"><a href="census.html#cb95-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">variables =</span> vars_acs5, </span>
<span id="cb95-5"><a href="census.html#cb95-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="dv">2019</span></span>
<span id="cb95-6"><a href="census.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb95-7"><a href="census.html#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Getting data from the 2015-2019 5-year ACS</span></span>
<span id="cb95-8"><a href="census.html#cb95-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-9"><a href="census.html#cb95-9" aria-hidden="true" tabindex="-1"></a>df_acs</span>
<span id="cb95-10"><a href="census.html#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 104 × 5</span></span>
<span id="cb95-11"><a href="census.html#cb95-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   GEOID NAME    variable      estimate   moe</span></span>
<span id="cb95-12"><a href="census.html#cb95-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb95-13"><a href="census.html#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 01    Alabama median_income    26231   139</span></span>
<span id="cb95-14"><a href="census.html#cb95-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 01    Alabama median_rent        792     5</span></span>
<span id="cb95-15"><a href="census.html#cb95-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 02    Alaska  median_income    34018   452</span></span>
<span id="cb95-16"><a href="census.html#cb95-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 02    Alaska  median_rent       1244    13</span></span>
<span id="cb95-17"><a href="census.html#cb95-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 04    Arizona median_income    30216    88</span></span>
<span id="cb95-18"><a href="census.html#cb95-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 04    Arizona median_rent       1052     4</span></span>
<span id="cb95-19"><a href="census.html#cb95-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 98 more rows</span></span></code></pre></div>
<p><code>get_acs()</code> will return the estimate and margin of error (<code>moe</code>) for each variable. Because the ACS values are estimates, the Census Bureau calculates a margin of error for most variables.</p>
<p>To pivot the data into a wider format, we can use <code>pivot_wider()</code>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="census.html#cb96-1" aria-hidden="true" tabindex="-1"></a>df_acs <span class="sc">%&gt;%</span> </span>
<span id="cb96-2"><a href="census.html#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb96-3"><a href="census.html#cb96-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> variable, </span>
<span id="cb96-4"><a href="census.html#cb96-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="fu">c</span>(estimate, moe)</span>
<span id="cb96-5"><a href="census.html#cb96-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb96-6"><a href="census.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 52 × 6</span></span>
<span id="cb96-7"><a href="census.html#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   GEOID NAME       estimate_median… estimate_median… moe_median_inco… moe_median_rent</span></span>
<span id="cb96-8"><a href="census.html#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                 &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb96-9"><a href="census.html#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 01    Alabama               26231              792              139               5</span></span>
<span id="cb96-10"><a href="census.html#cb96-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 02    Alaska                34018             1244              452              13</span></span>
<span id="cb96-11"><a href="census.html#cb96-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 04    Arizona               30216             1052               88               4</span></span>
<span id="cb96-12"><a href="census.html#cb96-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 05    Arkansas              25758              745              139               4</span></span>
<span id="cb96-13"><a href="census.html#cb96-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 06    California            31960             1503               65               4</span></span>
<span id="cb96-14"><a href="census.html#cb96-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 08    Colorado              35887             1271              175               6</span></span>
<span id="cb96-15"><a href="census.html#cb96-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 46 more rows</span></span></code></pre></div>
<p><code>get_decennial()</code> works similarly. First, we’ll find the variables with <code>load_variables()</code> and store several in a vector.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="census.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load_variables</span>(<span class="at">year =</span> <span class="dv">2010</span>, <span class="at">dataset =</span> <span class="st">&quot;sf1&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb97-2"><a href="census.html#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="census.html#cb98-1" aria-hidden="true" tabindex="-1"></a>vars_decennial <span class="ot">&lt;-</span></span>
<span id="cb98-2"><a href="census.html#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb98-3"><a href="census.html#cb98-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_urban =</span> <span class="st">&quot;H002002&quot;</span>,</span>
<span id="cb98-4"><a href="census.html#cb98-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_rural =</span> <span class="st">&quot;H002005&quot;</span></span>
<span id="cb98-5"><a href="census.html#cb98-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Then, we’ll use <code>get_decennial()</code> to access the data. This time, we’ll get the data at the county level. Here, <code>year</code> is the year of the decennial census.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="census.html#cb99-1" aria-hidden="true" tabindex="-1"></a>df_decennial <span class="ot">&lt;-</span></span>
<span id="cb99-2"><a href="census.html#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_decennial</span>(</span>
<span id="cb99-3"><a href="census.html#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">geography =</span> <span class="st">&quot;county&quot;</span>, </span>
<span id="cb99-4"><a href="census.html#cb99-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">variables =</span> vars_decennial, </span>
<span id="cb99-5"><a href="census.html#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="dv">2010</span></span>
<span id="cb99-6"><a href="census.html#cb99-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb99-7"><a href="census.html#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Getting data from the 2010 decennial Census</span></span>
<span id="cb99-8"><a href="census.html#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Using Census Summary File 1</span></span>
<span id="cb99-9"><a href="census.html#cb99-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-10"><a href="census.html#cb99-10" aria-hidden="true" tabindex="-1"></a>df_decennial</span>
<span id="cb99-11"><a href="census.html#cb99-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6,442 × 4</span></span>
<span id="cb99-12"><a href="census.html#cb99-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   GEOID NAME                       variable  value</span></span>
<span id="cb99-13"><a href="census.html#cb99-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                      &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span id="cb99-14"><a href="census.html#cb99-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 05131 Sebastian County, Arkansas pop_urban 43495</span></span>
<span id="cb99-15"><a href="census.html#cb99-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 05133 Sevier County, Arkansas    pop_urban  2115</span></span>
<span id="cb99-16"><a href="census.html#cb99-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 05135 Sharp County, Arkansas     pop_urban  2177</span></span>
<span id="cb99-17"><a href="census.html#cb99-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 05137 Stone County, Arkansas     pop_urban     0</span></span>
<span id="cb99-18"><a href="census.html#cb99-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 05139 Union County, Arkansas     pop_urban  8830</span></span>
<span id="cb99-19"><a href="census.html#cb99-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 05141 Van Buren County, Arkansas pop_urban     0</span></span>
<span id="cb99-20"><a href="census.html#cb99-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 6,436 more rows</span></span></code></pre></div>
<p>Again, we can use <code>pivot_wider()</code>.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="census.html#cb100-1" aria-hidden="true" tabindex="-1"></a>df_decennial <span class="sc">%&gt;%</span> </span>
<span id="cb100-2"><a href="census.html#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> variable, <span class="at">values_from =</span> value)</span>
<span id="cb100-3"><a href="census.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3,221 × 4</span></span>
<span id="cb100-4"><a href="census.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   GEOID NAME                       pop_urban pop_rural</span></span>
<span id="cb100-5"><a href="census.html#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                          &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb100-6"><a href="census.html#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 05131 Sebastian County, Arkansas     43495     11156</span></span>
<span id="cb100-7"><a href="census.html#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 05133 Sevier County, Arkansas         2115      4772</span></span>
<span id="cb100-8"><a href="census.html#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 05135 Sharp County, Arkansas          2177      7645</span></span>
<span id="cb100-9"><a href="census.html#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 05137 Stone County, Arkansas             0      6712</span></span>
<span id="cb100-10"><a href="census.html#cb100-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 05139 Union County, Arkansas          8830     10823</span></span>
<span id="cb100-11"><a href="census.html#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 05141 Van Buren County, Arkansas         0     10345</span></span>
<span id="cb100-12"><a href="census.html#cb100-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 3,215 more rows</span></span></code></pre></div>
<p>Now, you can use your data however you wish. Note that, if you’re interested in geospatial aspects of ACS or decennial census data, we recommend using our <a href="https://github.com/dcl-docs/ussf">ussf package</a> for boundaries. You can install the package with the following command.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="census.html#cb101-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;dcl-docs/ussf&quot;</span>)</span></code></pre></div>
<p>You can join your ACS or decennial census data with the result of <code>ussf::boundaries()</code>, using <code>GEOID</code> as a unique identifier.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="census.html#cb102-1" aria-hidden="true" tabindex="-1"></a>df_acs <span class="sc">%&gt;%</span> </span>
<span id="cb102-2"><a href="census.html#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb102-3"><a href="census.html#cb102-3" aria-hidden="true" tabindex="-1"></a>    ussf<span class="sc">::</span><span class="fu">boundaries</span>(<span class="at">geography =</span> <span class="st">&quot;state&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(GEOID), </span>
<span id="cb102-4"><a href="census.html#cb102-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;GEOID&quot;</span></span>
<span id="cb102-5"><a href="census.html#cb102-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb102-6"><a href="census.html#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; old-style crs object detected; please recreate object with a recent sf::st_crs()</span></span>
<span id="cb102-7"><a href="census.html#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 104 × 6</span></span>
<span id="cb102-8"><a href="census.html#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   GEOID NAME    variable      estimate   moe                            geometry</span></span>
<span id="cb102-9"><a href="census.html#cb102-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt;                  &lt;MULTIPOLYGON [m]&gt;</span></span>
<span id="cb102-10"><a href="census.html#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 01    Alabama median_income    26231   139 (((708460 -598743, 708114 -594376,…</span></span>
<span id="cb102-11"><a href="census.html#cb102-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 01    Alabama median_rent        792     5 (((708460 -598743, 708114 -594376,…</span></span>
<span id="cb102-12"><a href="census.html#cb102-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 02    Alaska  median_income    34018   452 (((-1518019 -1148523, -1516049 -11…</span></span>
<span id="cb102-13"><a href="census.html#cb102-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 02    Alaska  median_rent       1244    13 (((-1518019 -1148523, -1516049 -11…</span></span>
<span id="cb102-14"><a href="census.html#cb102-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 04    Arizona median_income    30216    88 (((-1743454 -375819, -1743828 -373…</span></span>
<span id="cb102-15"><a href="census.html#cb102-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 04    Arizona median_rent       1052     4 (((-1743454 -375819, -1743828 -373…</span></span>
<span id="cb102-16"><a href="census.html#cb102-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 98 more rows</span></span></code></pre></div>
<p>You can make makes with this data using ggplot2 and <code>geom_sf()</code>.</p>
</div>
</div>
<div id="population-estimates-1" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Population estimates</h2>
<p>For population estimates outside decennial census years, you’ll need to work directly with the <a href="https://www.census.gov/data/developers/data-sets/popest-popproj/popest.html">Population Estimates APIs</a>.</p>
<p>In the <a href="http://dcl-wrangle.stanford.edu/api-basics.html#find-your-api">API Basics</a> chapter, we discussed a workflow for working directly with APIs, and walked you through an example that used the Population Estimates. In this section, we’ll dive into more detail about the Population Estimates APIs.</p>
<div id="choose-data" class="section level3" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Choose data</h3>
<p>There are two types of population estimate APIs: the <em>vintages</em> and the <em>intercensals</em>. Each vintage contains data on all years since the last decennial census. For example, the 2018 Vintage contains data for each year between 2010 and 2018. You should use the most recent vintage available, since the Census Bureau updates all previous years’ estimates.</p>
<p>The intercensals contain data between previous decennial census. For example, the 2000-2010 intercensal contains yearly data for 2000 through 2010. If you want data from, for example, 2000 to 2018, you’ll need to use both a vintage and an intercensal, which will involve two API queries.</p>
<p>As of February 2020, the Vintage 2018 estimates are the most recent, fully available estimates. Vintage 2019 estimates are available for some geographic units, but won’t be available at the county level until March 2020.</p>
<p>Once you’ve decided on a vintage or a intercensal, click on the corresponding tab. You’ll see the various available APIs for those estimates.</p>
<p>The links under the API name provide you with more information about the API. If you want population data, you’ll probably want the <em>Population Estimates</em> API, which provides yearly population estimates at various geographic levels.</p>
<p><img src="images/census/vintage-2018-pop-est.png" width="1334" style="display: block; margin: auto;" /></p>
</div>
<div id="craft-your-request-1" class="section level3" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> Craft your request</h3>
<p>In the Census Basics chapter, we laid out the steps for working with an API. After finding your API, the next step is to craft the request.</p>
<p>First, you’ll need to find the <strong>base request</strong>, which will be listed next to <em>API Call</em>.</p>
<p><img src="images/census/vintage-2018-api-call.png" width="1424" style="display: block; margin: auto;" /></p>
<p>Next, add <strong>parameters</strong> to the base request to specify exactly what data you want. For the Population Estimates APIs, there are two important parameters: <code>get</code> and <code>for</code>. (You’ll also see <code>key</code> in the examples on the Census website, but an API key isn’t actually necessary.)</p>
<p><img src="images/census/api-request.png" width="3176" style="display: block; margin: auto;" /></p>
<p><code>get</code> controls which variables (i.e., what will eventually become your tibble columns) the request returns. <code>for</code> controls the geographic level. The parameters come after a <code>?</code> and are separated by a <code>&amp;</code>. We’ll go over both in more detail next.</p>
<p><strong>Variables</strong></p>
<p>To see all possible variables, click on the <em>Variables</em> link under your chosen API.</p>
<p><img src="images/census/vintage-2018-variables.png" width="1424" style="display: block; margin: auto;" /></p>
<p>This will lead you to a table of variables.</p>
<p><img src="images/census/vintage-2018-variables-table.png" width="1408" style="display: block; margin: auto;" /></p>
<p>The variables in all caps, like POP and GEONAME, are the names of variables returned by the API. The variables in lowercase, like <code>for</code> and <code>in</code>, are actually API request parameters. For now, just pay attention to the uppercase variables. You’ll specify the names of your desired variable after the API parameter <code>get</code>.</p>
<p>Often, you’ll want to get population over time. To get data for each year, you’ll need the variables <code>DATE_DESC</code> and <code>DATE_CODE</code>. <code>DATE_CODE</code> is a code associated with a date (e.g., <code>1</code> or <code>2</code>), and <code>DATE_DESC</code> describes the date (e.g., <code>"7/1/2018 population estimate"</code>). Without <code>DATE_DESC</code>, you won’t know what each <code>DATE_CODE</code> refers to, and without <code>DATE_CODE</code>, the API only returns data for one year.</p>
<p><strong>Geographies</strong></p>
<p>Next, you’ll need to specify what geographic level of the data. For each Population Estimate API, check which geographies are available by clicking on the <em>Examples and Supported Geographies</em> link.</p>
<p><img src="images/census/vintage-2018-examples-geographies.png" width="1424" style="display: block; margin: auto;" /></p>
<p>This link leads to a table with a description of the API, and links to examples, geographies, and other information. Click on the <em>geographies</em> link. Then, you’ll see a table with different geographies.</p>
<p><img src="images/census/geographies.png" width="1371" style="display: block; margin: auto;" /></p>
<p>Use these geographies to determine the data returned. For example:</p>
<ul>
<li><code>for=us</code> will return data for the entire U.S.</li>
<li><code>for=state:30</code> will return data for Montana.</li>
<li><code>for=state:*</code> will return data by state, for all states.</li>
<li><code>for=county:*</code> will return data by county, for all counties in the U.S.</li>
<li><code>for=county:*&amp;in=state:30</code> will return data by county, just for Montana.</li>
</ul>
<div id="examples" class="section level4" number="9.3.2.1">
<h4><span class="header-section-number">9.3.2.1</span> Examples</h4>
<p>Each API has an examples page. From the Population Estimates homepage, navigate to <em>Examples and Supported Geographies</em> &gt; <em>Examples</em>. <a href="https://api.census.gov/data/2018/pep/population/examples.html">This page</a> lists examples for the 2018 Vintage Population Estimates API.</p>
<p>Here are some more examples:</p>
<p><strong>Entire U.S. population data by year</strong></p>
<p><a href="https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=us">https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=us</a></p>
<p><strong>Population data for only Montana, by year</strong></p>
<p><a href="https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=state:30">https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=state:30</a></p>
<p><strong>Population data for all counties, by year</strong></p>
<p><a href="https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=county:*">https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=county:*</a></p>
</div>
</div>
<div id="read-the-data-into-r-1" class="section level3" number="9.3.3">
<h3><span class="header-section-number">9.3.3</span> Read the data into R</h3>
<p>The next step is to read your data into R. We’ll use the same process introduced in <a href="http://dcl-wrangle.stanford.edu/api-basics.html#read-the-data-into-r">API Basics</a>. Let’s use a request that gets population data for all states, by year.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="census.html#cb103-1" aria-hidden="true" tabindex="-1"></a>request <span class="ot">&lt;-</span> </span>
<span id="cb103-2"><a href="census.html#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;https://api.census.gov/data/2018/pep/population?get=GEONAME,DATE_CODE,DATE_DESC,POP&amp;for=state:*&quot;</span></span>
<span id="cb103-3"><a href="census.html#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="census.html#cb103-4" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span></span>
<span id="cb103-5"><a href="census.html#cb103-5" aria-hidden="true" tabindex="-1"></a>  request <span class="sc">%&gt;%</span> </span>
<span id="cb103-6"><a href="census.html#cb103-6" aria-hidden="true" tabindex="-1"></a>  jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-7"><a href="census.html#cb103-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-8"><a href="census.html#cb103-8" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">row_to_names</span>(<span class="at">row_number =</span> <span class="dv">1</span>)</span>
<span id="cb103-9"><a href="census.html#cb103-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-10"><a href="census.html#cb103-10" aria-hidden="true" tabindex="-1"></a>response</span>
<span id="cb103-11"><a href="census.html#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 572 × 5</span></span>
<span id="cb103-12"><a href="census.html#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   GEONAME DATE_CODE DATE_DESC                          POP     state</span></span>
<span id="cb103-13"><a href="census.html#cb103-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;                              &lt;chr&gt;   &lt;chr&gt;</span></span>
<span id="cb103-14"><a href="census.html#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Alabama 1         4/1/2010 Census population         4779736 01   </span></span>
<span id="cb103-15"><a href="census.html#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Alabama 2         4/1/2010 population estimates base 4780138 01   </span></span>
<span id="cb103-16"><a href="census.html#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Alabama 3         7/1/2010 population estimate       4785448 01   </span></span>
<span id="cb103-17"><a href="census.html#cb103-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Alabama 4         7/1/2011 population estimate       4798834 01   </span></span>
<span id="cb103-18"><a href="census.html#cb103-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Alabama 5         7/1/2012 population estimate       4815564 01   </span></span>
<span id="cb103-19"><a href="census.html#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Alabama 6         7/1/2013 population estimate       4830460 01   </span></span>
<span id="cb103-20"><a href="census.html#cb103-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 566 more rows</span></span></code></pre></div>
<p>You’ll still need to do a bit of light cleaning. Also, notice that there are three different estimates for 2010 (the decennial census year).</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="census.html#cb104-1" aria-hidden="true" tabindex="-1"></a>response <span class="sc">%&gt;%</span> </span>
<span id="cb104-2"><a href="census.html#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(DATE_DESC) <span class="sc">%&gt;%</span> </span>
<span id="cb104-3"><a href="census.html#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(DATE_DESC)</span>
<span id="cb104-4"><a href="census.html#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;4/1/2010 Census population&quot;         &quot;4/1/2010 population estimates base&quot;</span></span>
<span id="cb104-5"><a href="census.html#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;7/1/2010 population estimate&quot;       &quot;7/1/2011 population estimate&quot;      </span></span>
<span id="cb104-6"><a href="census.html#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;7/1/2012 population estimate&quot;       &quot;7/1/2013 population estimate&quot;      </span></span>
<span id="cb104-7"><a href="census.html#cb104-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;7/1/2014 population estimate&quot;       &quot;7/1/2015 population estimate&quot;      </span></span>
<span id="cb104-8"><a href="census.html#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;7/1/2016 population estimate&quot;       &quot;7/1/2017 population estimate&quot;      </span></span>
<span id="cb104-9"><a href="census.html#cb104-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;7/1/2018 population estimate&quot;</span></span></code></pre></div>
<p>You’ll generally want to use all the July 1st estimates so that all estimates are a year apart.</p>
</div>
</div>
<div id="to-learn-more" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> To learn more</h2>
<p>A good source to go deeper into working with census data is Walker, <a href="https://walker-data.com/census-r/">Analyzing US Census Data: Methods, Maps, and Models in R</a>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>U.S. Census Bureau. Questionnaires. <a href="https://www.census.gov/history/www/through_the_decades/questionnaires/" class="uri">https://www.census.gov/history/www/through_the_decades/questionnaires/</a><a href="census.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>U.S. Census Bureau. American Community Survey: Information Guide. <a href="https://www.census.gov/content/dam/Census/programs-surveys/acs/about/ACS_Information_Guide.pdf" class="uri">https://www.census.gov/content/dam/Census/programs-surveys/acs/about/ACS_Information_Guide.pdf</a><a href="census.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="api-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="googlesheets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dcl-docs/wrangle/edit/master/census.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
